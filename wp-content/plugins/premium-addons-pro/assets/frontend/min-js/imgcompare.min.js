!function(C){C.fn.twentytwenty=function(g){return g=C.extend({default_offset_pct:.5,orientation:"horizontal",switch_before_label:!0,before_label:"Before",switch_after_label:!0,after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1,show_drag:!0,show_sep:!0,horbeforePos:"middle",horafterPos:"middle",verbeforePos:"center",verafterPos:"center"},g),this.each(function(){var t=g.default_offset_pct,m=C(this),w=g.orientation,e="vertical"===w?"down":"left",n="vertical"===w?"up":"right";g.no_overlay?m.append("<div class='premium-twentytwenty-overlay premium-twentytwenty-hide'></div>"):m.append("<div class='premium-twentytwenty-overlay premium-twentytwenty-show'></div>");var f=m.find("img:first"),v=m.find("img:last");g.show_sep?m.append("<div class='premium-twentytwenty-handle'></div>"):m.append("<div class='premium-twentytwenty-handle premium-twentytwenty-hide'></div>");var h=m.find(".premium-twentytwenty-handle");h.append("<span class='premium-twentytwenty-"+e+"-arrow'></span>"),h.append("<span class='premium-twentytwenty-"+n+"-arrow'></span>"),m.addClass("premium-twentytwenty-container"),f.addClass("premium-twentytwenty-before"),v.addClass("premium-twentytwenty-after"),g.show_drag||h.css("opacity","0");var a=m.find(".premium-twentytwenty-overlay");if(g.switch_before_label){var i="<div class='premium-twentytwenty-before-label premium-twentytwenty-before-label-"+g.horbeforePos+" premium-twentytwenty-before-label-"+g.verbeforePos+"'><span>"+g.before_label+"</span></div>";a.append(i)}if(g.switch_after_label){var s="<div class='premium-twentytwenty-after-label  premium-twentytwenty-after-label-"+g.horafterPos+" premium-twentytwenty-after-label-"+g.verafterPos+"'><span>"+g.after_label+"</span></div>";a.append(s)}function r(e){var t,n,a,i,s=(t=e,{w:(n=f.width())+"px",h:(a=f.height())+"px",cw:t*n+"px",ch:t*a+"px"}),r=C(m).find(".premium-twentytwenty-before-label"),o=C(m).find(".premium-twentytwenty-after-label");if(h.css("vertical"===w?"top":"left","vertical"===w?s.ch:s.cw),"horizontal"===w){var l=void 0!==r.css("left")?parseInt(r.css("left").replace(/px/,"")):"",d=parseInt(r.outerWidth()),p=void 0!==o.css("left")?parseInt(o.css("left").replace(/px/,"")):"";(c=parseInt(h.css("left").replace(/px/,"")))<l+d?r.addClass("premium-label-hidden"):r.removeClass("premium-label-hidden"),p<c?o.addClass("premium-label-hidden"):o.removeClass("premium-label-hidden")}else{var c;l=void 0!==r.css("top")?parseInt(r.css("top").replace(/px/,"")):"",d=parseInt(r.outerHeight()),p=void 0!==o.css("top")?parseInt(o.css("top").replace(/px/,"")):"",(c=parseInt(h.css("top").replace(/px/,"")))<l+d?r.addClass("premium-label-hidden"):r.removeClass("premium-label-hidden"),p<c&&!(p<0)?o.addClass("premium-label-hidden"):o.removeClass("premium-label-hidden")}i=s,"vertical"===w?(f.css("clip","rect(0,"+i.w+","+i.ch+",0)"),v.css("clip","rect("+i.ch+","+i.w+","+i.h+",0)")):(f.css("clip","rect(0,"+i.cw+","+i.h+",0)"),v.css("clip","rect(0,"+i.w+","+i.h+","+i.cw+")")),m.css("height",i.h)}function o(e,t){var n;return n="vertical"===w?(t-u)/_:(e-c)/y,Math.max(0,Math.min(1,n))}C(window).on("resize.twentytwenty",function(e){r(t)}),m.on("updateRatio",function(e,t){r(t)});function l(e){((e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==w||(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===w)&&e.preventDefault(),m.addClass("active"),c=m.offset().left,u=m.offset().top,y=f.width(),_=f.height()}function d(e){m.hasClass("active")&&(t=o(e.pageX,e.pageY),r(t))}function p(){m.removeClass("active")}var c=0,u=0,y=0,_=0,b=g.move_with_handle_only?h:m;b.on("movestart",l),b.on("move",d),b.on("moveend",p),g.move_slider_on_hover&&(m.on("mouseenter",l),m.on("mousemove",d),m.on("mouseleave",p)),h.on("touchmove",function(e){e.preventDefault()}),m.find("img").on("mousedown",function(e){e.preventDefault()}),g.click_to_move&&m.on("click",function(e){c=m.offset().left,u=m.offset().top,y=f.width(),_=f.height(),t=o(e.pageX,e.pageY),r(t)}),C(window).trigger("resize.twentytwenty")})}}(jQuery);