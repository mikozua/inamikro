!function(g){g(window).on("elementor/frontend/init",function(){var e=elementorModules.frontend.handlers.Base.extend({settings:{},getDefaultSettings:function(){return{selectors:{scrollElement:".premium-scroll-background"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$scrollElement:this.$element.find(e.scrollElement)}},bindEvents:function(){var e=this,t=e.$element.hasClass("delay-trigger")?500:0;setTimeout(function(){e.setWidgetSettings(),e.run()},t)},setWidgetSettings:function(){var e=this.getRepeaterSettings(),t=elementorFrontend.getCurrentDeviceMode(),s={offset:null,isNull:!1,isSolid:!0,elements:e.elements,downColors:e.downColors,upColors:e.upColors,itemsIDs:e.itemsIDs,downOffsets:e.downOffsets,upOffsets:e.upOffsets,id:this.$element.data("id"),offset:"offset"+("desktop"===t?"":"_"+t)};s.$firstElement=g("#"+s.elements[0]),s.$lastElement=g("#"+s.elements[s.elements.length-1]),s.$firstElement.length&&s.$lastElement.length&&(s.firstElemOffset=s.$firstElement.offset().top,s.lastElemOffset=s.$lastElement.offset().top,s.lastElemeHeight=s.$lastElement.outerHeight(),s.lastElemeBot=s.lastElemOffset+s.lastElemeHeight),this.settings=s},run:function(){for(var f=this,e=g(window),t=this.elements.$scrollElement,s=this.settings.elements,i=this.settings.downColors,n=this.settings.downOffsets,o=this.settings.upOffsets,r=this.settings.itemsIDs,l=0;l<s.length;l++)if(!g("#"+s[l]).length){t.html('<div class="premium-error-notice">Please make sure that IDs added to the widget are valid</div>'),this.settings.isNull=!0;break}if(!this.settings.isNull)if(null==this.getElementSettings(this.settings.offset)&&(this.settings.offset="offset"),g('<div id="premium-color-transition-'+this.settings.id+'" class="premium-color-transition"></div>').prependTo(g("body")),g(document).ready(function(){1<g(".premium-color-transition").length&&e.on("scroll",f.checkVisible)}),i.forEach(function(e){-1!==e.indexOf("//")&&(f.settings.isSolid=!1)}),this.getElementSettings("gradient")||(this.settings.isSolid=!1),this.settings.isSolid){this.rowTransitionalColor=function(e,t,s){"use strict";t=f.hexToRgb(t),s=f.hexToRgb(s);var i,n,o,r,l,a=0,u=e,d=t,c=s;g(document).scroll(function(){var e=u.offset().top,t=u.outerHeight()/4,s=e+u.outerHeight()-t;e<=(a=g(this).scrollTop())&&a<=s?(i=(a-e)/(u.outerHeight()-t),n=Math.abs(d.r+(c.r-d.r)*i),o=Math.abs(d.g+(c.g-d.g)*i),r=Math.abs(d.b+(c.b-d.b)*i),l="rgb("+n+","+o+","+r+")",g("#premium-color-transition-"+f.settings.id).css({backgroundColor:l})):s<a&&g("#premium-color-transition-"+f.settings.id).css({backgroundColor:c})})},this.hexToRgb=function(e){if(-1!==e.indexOf("rgb")){var t=e.substring(e.indexOf("(")+1).split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2])}}var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null},g("#premium-color-transition-"+this.settings.id).css({backgroundColor:i[0]});var a=g("#premium-color-transition-"+this.settings.id).closest(".elementor");0===a.length&&(a=g(".elementor").first());l=0;var u=i.length,d=null;g(".elementor > .elementor-element, .elementor-section-wrap > .elementor-element").each(function(){u<=l&&(l=0);var e=l,t=l+1;""!==i[e]&&null!=i[e]&&(e=i[e]),t=""!==i[t]&&null!=i[t]?(d=!1,i[t]):(d=!(l=0),i[t=l]),f.rowTransitionalColor(g(this),e,t),d||l++})}else{Waypoint.refreshAll();var c=null;s.forEach(function(e,s){g('<div class="premium-color-transition-layer elementor-repeater-item-'+r[s]+'" data-direction="down"></div>').prependTo(g("#premium-color-transition-"+f.settings.id)),g('<div class="premium-color-transition-layer elementor-repeater-item-'+r[s]+'" data-direction="up"></div>').prependTo(g("#premium-color-transition-"+f.settings.id)),f.visible(g("#"+e),!0)&&(g(".elementor-repeater-item-"+r[s]+'[data-direction="down"]').addClass("layer-active"),c=s),elementorFrontend.waypoint(g("#"+e),function(e){if("down"===e){var t=f.settings.downColors[s];f.checkDifferentBackgrounds(t,c)&&(g(".premium-color-transition-layer").removeClass("layer-active"),g(".elementor-repeater-item-"+r[s]+'[data-direction="down"]').addClass("layer-active"),c=s)}},{offset:n[s],triggerOnce:!1}),elementorFrontend.waypoint(g("#"+e),function(e){if("up"===e){var t=f.settings.upColors[s];f.checkDifferentBackgrounds(t,c)&&(g(".premium-color-transition-layer").removeClass("layer-active"),g(".elementor-repeater-item-"+r[s]+'[data-direction="up"]').addClass("layer-active"),c=s)}},{offset:o[s],triggerOnce:!1})})}},checkDifferentBackgrounds:function(e,t){var s;return s="down"===g("#premium-color-transition-"+this.settings.id+" .layer-active").data("direction")?this.settings.downColors[t]:this.settings.upColors[t],null==t||-1==s.indexOf(e)},getRepeaterSettings:function(){var e=this.getElementSettings("id_repeater"),s=[],i=[],n=[],o=[],r=[],l=[],a=this.getElementSettings("offset")||30;return e.forEach(function(e,t){switch(s.push(e.section_id),n.push(e._id),e.down_background=e.down_color,"image"===e.scroll_down_type&&""!==e.down_image.url&&(e.down_background=e.down_image.url),e.up_background=e.up_color,"image"===e.scroll_up_type&&""!==e.up_image.url&&(e.up_background=e.up_image.url),""===e.up_background&&(e.up_background=e.down_background),i.push(e.down_background),o.push(e.up_background),e.scroll_down_offset){case"":r.push(0===t?"bottom-in-view":a);break;case"top-in-view":r.push("0");break;case"bottom-in-view":r.push(e.scroll_down_offset);break;default:r.push(e.scroll_down_custom_offset.size+e.scroll_down_custom_offset.unit)}switch(e.scroll_up_offset){case"":l.push("-"+a);break;case"top-in-view":l.push("0");break;case"bottom-in-view":l.push(e.scroll_up_offset);break;default:l.push("-"+e.scroll_up_custom_offset.size+e.scroll_up_custom_offset.unit)}}),{elements:s,downColors:i,upColors:o,itemsIDs:n,downOffsets:r,upOffsets:l}},checkVisible:function(){var e=this.settings,t=g(window);if(void 0!==e.firstElemOffset&&void 0!==e.lastElemOffset){if(t.scrollTop()>=e.lastElemeBot-e.lastElemeHeight/4)0!==g("#premium-color-transition-"+e.id).index()&&g("#premium-color-transition-"+e.id).addClass("premium-bg-transition-hidden");t.scrollTop()>=e.firstElemOffset&&t.scrollTop()<e.lastElemOffset&&g("#premium-color-transition-"+e.id).removeClass("premium-bg-transition-hidden")}},visible:function(e,t,s){var i=e.get(0),n=g(window),o=n.outerHeight(),r=!0!==s||i.offsetWidth*i.offsetHeight;if("function"==typeof i.getBoundingClientRect){var l=i.getBoundingClientRect(),a=0<=l.top&&l.top<o,u=0<l.bottom&&l.bottom<=o,d=t?a||u:a&&u;d=l.top<0&&l.bottom>o||d;return r&&d}var c=0+o,f=n.position().top,m=f+n.height();return!!r&&(!0===t?f:m)<=c&&0<=(!0===t?m:f)}});elementorFrontend.elementsHandler.attachHandler("premium-color-transition",e)})}(jQuery);